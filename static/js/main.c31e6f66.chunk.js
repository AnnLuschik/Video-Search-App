(this["webpackJsonpvideo-search-app"]=this["webpackJsonpvideo-search-app"]||[]).push([[0],{35:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a,r,c=n(0),o=n.n(c),i=n(13),s=n.n(i),u=(n(35),n(7)),d=n(4),l=n(5),p=n(30),b=n(8),j=n(20),h=n(1),g=l.a.button(a||(a=Object(d.a)(["\n  padding: 0.5em 1em;\n  font-size: 1em;\n  color: #FFFFFF;\n  text-transform: uppercase;\n  background-color: #F65263;\n  border: none;\n  border-radius: 5px;\n  outline: none;\n  cursor: pointer;\n  \n  &:hover,\n  &:active {\n    background-color: #ec2f42;\n  }\n\n  &:focus {\n    box-shadow: 0 0 0 5px rgba(0,0,0, 0.2);\n  }\n"]))),f=function(e){var t=e.onClick,n=e.children,a=Object(j.a)(e,["onClick","children"]);return Object(h.jsx)(g,Object(b.a)(Object(b.a)({onClick:t},a),{},{children:n}))},x=o.a.memo((function(e){var t=e.onChange,n=e.value,a=Object(j.a)(e,["onChange","value"]),r=Object(c.useCallback)((function(e){t(e.target.value)}),[t]);return Object(h.jsx)(O,Object(b.a)({value:n,onChange:r},a))})),O=l.a.input(r||(r=Object(d.a)(["\n  width: 100%;\n  padding: 10px 15px;\n  font-size: 14px;\n  color: #000000;\n  background-color: #FFFFFF;\n  border: 1px solid #aaa1a1;\n  border-radius: 5px;\n  outline: none;\n  opacity: 0.9;\n\n  &:focus {\n    box-shadow: 0 0 0 5px rgba(0,0,0, 0.2);\n  }\n"]))),v=x,m=n(19),y=n(9),w=n.n(y),k=n(21),F=n(25),S=n(18),M="AIzaSyDgkvG57b0sI7NJ5sYG4-16W7aC3hjRet0",V=Object(S.b)({name:"youtubeSearch",initialState:{searchParams:null,responseData:null,loading:!1,loadingMore:!1,errorMessage:null},reducers:{getVideosRequest:function(e,t){e.loading=!0,e.errorMessage=null,e.searchParams={value:t.payload,start:""}},getVideosSuccess:function(e,t){e.responseData=t.payload,e.loading=!1},getVideosFailure:function(e,t){e.loading=!1,e.errorMessage=t.payload},getMoreVideosRequest:function(e){e.loadingMore=!0,e.errorMessage=null},getMoreVideosSuccess:function(e,t){var n,a;e.loadingMore=!1,e.responseData=Object(b.a)(Object(b.a)({},t.payload),{},{items:(n=e.responseData.items,a=t.payload.items,Array.from(new Set([].concat(Object(F.a)(n),Object(F.a)(a)).map((function(e){return JSON.stringify(e)})))).map((function(e){return JSON.parse(e)})))})},getMoreVideosFailure:function(e,t){e.loadingMore=!1,e.errorMessage=t.payload},getVideoByIdRequest:function(e,t){e.loading=!0,e.errorMessage=null,e.searchParams={value:t.payload.value,start:t.payload.start}},getVideoByIdSuccess:function(e,t){e.responseData=t.payload,e.loading=!1},getVideoByIdFailure:function(e,t){e.loading=!1,e.errorMessage=t.payload}}}),R=V.actions,I=R.getVideosRequest,C=R.getVideosSuccess,D=R.getVideosFailure,B=R.getMoreVideosRequest,q=R.getMoreVideosSuccess,P=R.getMoreVideosFailure,z=R.getVideoByIdRequest,J=R.getVideoByIdSuccess,A=R.getVideoByIdFailure;var L,T,N,E,G,U,W,Y,H,K,Q,X,Z,$,_,ee=V.reducer,te=function(){var e=Object(c.useState)(""),t=Object(m.a)(e,2),n=t[0],a=t[1],r=Object(u.b)(),o=Object(c.useCallback)((function(){if(n)if(function(e){try{return Boolean(new URL(e))}catch(t){return!1}}(n)){var e=/(?:youtube\.com|youtu\.).*(?:v=|v\/|v%3D|vi(?:=|\/)|watch\?|embed\/|\/)([^&?%#\/\n]+)/gi.exec(n)[1],t=function(e){var t;return(null===(t=/(?:\?t=|#t=|\/t=)(\d+)/gi.exec(e))||void 0===t?void 0:t[1])||!1}(n)||"";r((a={value:e,start:t},function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(z(a)),e.prev=1,e.next=4,fetch("https://youtube.googleapis.com/youtube/v3/videos?part=snippet&id=".concat(a.value,"&key=").concat(M));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,t(J(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(A(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()))}else r(function(e){return function(){var t=Object(k.a)(w.a.mark((function t(n){var a,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(I(e)),t.prev=1,t.next=4,fetch("https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=25&q=".concat(e,"&type=video&key=").concat(M));case 4:return a=t.sent,t.next=7,a.json();case 7:if(!(r=t.sent).error){t.next=10;break}throw r.error;case 10:n(C(r)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),n(D(t.t0.message));case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()}(n));var a}),[r,n]);return Object(h.jsx)(ne,{children:Object(h.jsxs)(ae,{onSubmit:function(e){return e.preventDefault()},children:[Object(h.jsx)(re,{id:"search",onChange:function(e){return a(e)},value:n,placeholder:"I'm searching...",type:"search"}),Object(h.jsx)(f,{onClick:o,children:"Search"})]})})},ne=l.a.header(L||(L=Object(d.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 25px 0;\n"]))),ae=l.a.form(T||(T=Object(d.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  width: 50%;\n  @media screen and (max-width: 768px) {\n    width: 80%;\n  }\n  @media screen and (max-width: 360px) {\n    width: 95%;\n  }\n"]))),re=Object(l.a)(v)(N||(N=Object(d.a)(["\n  margin-right: 10px;\n"]))),ce=o.a.memo((function(e){var t=e.id,n=Object(u.c)((function(e){return e.youtube})).searchParams;return Object(h.jsx)("iframe",{title:t,src:"https://www.youtube.com/embed/".concat(t,"?enablejsapi=1&start=").concat(n.start,"&origin=https://annluschik.github.io/Video-Search-App/"),width:"340",height:"190",frameBorder:"0",allowFullScreen:!0})})),oe=n(29),ie=o.a.memo((function(e){var t=e.data,n=Object(c.useState)(""),a=Object(m.a)(n,2),r=a[0],o=a[1],i=t.kind,s=t.id,u=t.snippet,d=u.title,l=u.publishedAt,p=u.thumbnails,b=new Date(l).toLocaleString().split(",")[0],j=Object(c.useCallback)((function(){o("youtube#searchResult"===i?s.videoId:s)}),[i,s]),g=Object(oe.decode)(d);return Object(h.jsx)(se,{children:Object(h.jsxs)(ue,{onClick:j,children:[r?Object(h.jsx)(ce,{id:r}):Object(h.jsx)(be,{src:p.medium.url,alt:"Preview for ".concat(g)}),Object(h.jsxs)(de,{children:[Object(h.jsx)(le,{children:g}),Object(h.jsx)(pe,{dateTime:l,children:b})]})]})})})),se=l.a.div(E||(E=Object(d.a)(["\n  max-width: 340px;\n  margin: 0 8px 40px;\n"]))),ue=l.a.div(G||(G=Object(d.a)(["\n  cursor: pointer;\n"]))),de=l.a.div(U||(U=Object(d.a)(["\n  font-size: 12px;\n  padding-right: 12px;\n  &:focus {\n    box-shadow: 0 0 0 5px rgba(0,0,0, 0.2);\n  }\n"]))),le=l.a.h3(W||(W=Object(d.a)(["\n  margin: 12px 0 4px 0;\n  font-weight: 600;\n  font-size: 1.4em;\n"]))),pe=l.a.time(Y||(Y=Object(d.a)(["\n  font-weight: 400;\n  font-size: 1.1em;\n"]))),be=l.a.img(H||(H=Object(d.a)(["\n  cursor: pointer;\n"]))),je=ie,he=o.a.forwardRef((function(e,t){var n=e.data,a=n.pageInfo,r=n.items,c=n.kind;return Object(h.jsx)(ge,{children:a.totalResults?Object(h.jsxs)(fe,{total:a.totalResults,children:[r.map((function(e){return Object(h.jsx)(je,{data:e},"youtube#searchListResponse"===c?e.id.videoId:e.id)})),Object(h.jsx)(xe,{ref:t})]}):Object(h.jsx)(Oe,{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."})})})),ge=l.a.section(K||(K=Object(d.a)(["\n  padding: 25px 0;\n  background-color: #f9f9f9;\n"]))),fe=l.a.div(Q||(Q=Object(d.a)(["\n  display: ",";\n  grid-template-columns: repeat(auto-fill, 340px);\n  grid-gap: 24px;\n  justify-content: center;\n  width: 100%;\n  padding-top: 15px;\n"])),(function(e){return 1===e.total?"flex":"grid"})),xe=l.a.div(X||(X=Object(d.a)(["\n  width: 10px;\n  height: 2px;\n"]))),Oe=l.a.p(Z||(Z=Object(d.a)(["\n  margin-top: 40px;\n  font-weight: 600;\n  font-size: 26px;\n  color: #000000;\n"]))),ve=he,me=function(){var e=Object(u.c)((function(e){return e.youtube})),t=e.responseData,n=e.loading,a=e.errorMessage,r=Object(u.b)();Object(c.useEffect)((function(){var e=new IntersectionObserver((function(e){e[0].isIntersecting&&r(function(){var e=Object(k.a)(w.a.mark((function e(t,n){var a,r,c,o,i,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B()),a=n(),r=a.youtube,c=r.searchParams.value,o=r.responseData.nextPageToken,e.prev=2,e.next=5,fetch("https://youtube.googleapis.com/youtube/v3/search?part=snippet&maxResults=25&q=".concat(c,"&pageToken=").concat(o,"&type=video&key=").concat(M));case 5:return i=e.sent,e.next=8,i.json();case 8:s=e.sent,t(q(s)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t(P(e.t0));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}())}),{root:null,threshold:.5});return(null===t||void 0===t?void 0:t.nextPageToken)&&o.current&&e.observe(o.current),function(){return e.disconnect()}}),[r,t]);var o=Object(c.useRef)(null);return Object(h.jsxs)(ye,{children:[Object(h.jsx)(te,{}),Object(h.jsxs)(we,{children:[n?Object(h.jsx)(p.BarLoader,{color:"#F65263",width:"100%",height:"5px"}):Object(h.jsx)("div",{style:{width:"100%",height:"5px"}}),t?Object(h.jsx)(ve,{data:t,ref:o}):null,a?Object(h.jsx)("p",{style:{color:"#b40719"},children:a}):null]})]})},ye=l.a.div($||($=Object(d.a)(["\n  max-width: 1440px;\n  margin: 0 auto;\n"]))),we=l.a.main(_||(_=Object(d.a)(["\n  width: 100%;\n"]))),ke=Object(S.a)({reducer:{youtube:ee}});s.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(u.a,{store:ke,children:Object(h.jsx)(me,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.c31e6f66.chunk.js.map